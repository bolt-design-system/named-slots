{"version":3,"sources":["index.min.js"],"names":["global","factory","exports","module","define","amd","skatejs","named","slots","this","applyParentNode","node","parent","prop","configurable","get","removeParentNode","arrayItem","idx","doForNodesIfSlot","elem","func","nodeToArray","forEach","slot","getSlot","name","getAttribute","__slots","querySelector","__shadowId","makeLikeNodeList","arr","item","DocumentFragment","toArray","childNodes","obj","Array","prototype","slice","call","polyfill","mapPolyfilled","props","funcs","set","WeakMap","Object","defineProperty","bind","childElementCount","children","length","nodes","childNodesLen","a","push","filter","nodeType","firstChild","firstElementChild","innerHTML","map","outerHTML","textContent","join","val","div","document","createElement","frag","createDocumentFragment","hasChildNodes","appendChild","lastChild","ch","lastElementChild","tagName","toLowerCase","attributes","attr","value","toString","newNode","insertBefore","refNode","removeChild","replaceChild","previousGlobal","window","skatejsNamedSlots","noConflict"],"mappings":"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","file":"index.min.js","sourcesContent":["(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global.skatejs-named-slots = factory());\n}(this, function () {\n\n  var mapPolyfilled = new WeakMap();\n\n  var prop = Object.defineProperty.bind(Object);\n\n  // Helpers.\n\n  function applyParentNode(node, parent) {\n    prop(node, 'parentNode', {\n      configurable: true,\n      get: function get() {\n        return parent;\n      }\n    });\n  }\n\n  function removeParentNode(node) {\n    prop(node, 'parentNode', {\n      configurable: true,\n      get: function get() {\n        return null;\n      }\n    });\n  }\n\n  function arrayItem(idx) {\n    return this[idx];\n  }\n\n  function doForNodesIfSlot(elem, node, func) {\n    nodeToArray(node).forEach(function (node) {\n      var slot = getSlot(elem, node);\n      if (slot) {\n        func(elem, node, slot);\n      }\n    });\n  }\n\n  function getSlot(elem, node) {\n    if (!node) {\n      return;\n    }\n\n    var name = node.getAttribute && node.getAttribute('slot') || 'content';\n\n    if (!elem.__slots) {\n      elem.__slots = {};\n    }\n\n    var slots = elem.__slots;\n\n    if (typeof slots[name] === 'undefined') {\n      var slot = elem.querySelector('[slot-name=\"' + elem.__shadowId + (name === 'content' ? '' : name) + '\"]');\n      if (slot) {\n        slots[name] = slot;\n      }\n    }\n\n    if (slots[name]) {\n      return slots[name];\n    }\n  }\n\n  function makeLikeNodeList(arr) {\n    arr.item = arrayItem;\n    return arr;\n  }\n\n  function nodeToArray(node) {\n    return node instanceof DocumentFragment ? toArray(node.childNodes) : [node];\n  }\n\n  function toArray(obj) {\n    return Array.prototype.slice.call(obj);\n  }\n\n  // Prop overrides.\n\n  var props = {\n    childElementCount: {\n      get: function get() {\n        return this.children.length;\n      }\n    },\n    childNodes: {\n      get: function get() {\n        var nodes = [];\n        var slots = this.__slots;\n        if (slots) {\n          for (var name in slots) {\n            var slot = slots[name];\n            var childNodes = slot.childNodes;\n            var childNodesLen = childNodes.length;\n            for (var a = 0; a < childNodesLen; a++) {\n              nodes.push(childNodes[a]);\n            }\n          }\n        }\n        return makeLikeNodeList(nodes);\n      }\n    },\n    children: {\n      get: function get() {\n        return makeLikeNodeList(this.childNodes.filter(function (node) {\n          return node.nodeType === 1;\n        }));\n      }\n    },\n    firstChild: {\n      get: function get() {\n        return this.childNodes[0] || null;\n      }\n    },\n    firstElementChild: {\n      get: function get() {\n        return this.children[0] || null;\n      }\n    },\n    innerHTML: {\n      get: function get() {\n        return this.childNodes.map(function (node) {\n          return node.outerHTML || node.textContent;\n        }).join('');\n      },\n      set: function set(val) {\n        var div = document.createElement('div');\n        var frag = document.createDocumentFragment();\n        div.innerHTML = val;\n        while (div.hasChildNodes()) {\n          frag.appendChild(div.firstChild);\n        }\n        this.appendChild(frag);\n      }\n    },\n    lastChild: {\n      get: function get() {\n        var ch = this.childNodes;\n        return ch[ch.length - 1] || null;\n      }\n    },\n    lastElementChild: {\n      get: function get() {\n        var ch = this.children;\n        return ch[ch.length - 1] || null;\n      }\n    },\n    outerHTML: {\n      get: function get() {\n        var name = this.tagName.toLowerCase();\n        var attributes = toArray(this.attributes).map(function (attr) {\n          return ' ' + attr.name + (attr.value ? '=\"' + attr.value + '\"' : '');\n        }).join('');\n        return '<' + name + attributes + '>' + this.innerHTML + '</' + name + '>';\n      }\n    },\n    textContent: {\n      get: function get() {\n        return this.childNodes.map(function (node) {\n          return node.textContent;\n        }).join('');\n      },\n      set: function set(val) {\n        doForNodesIfSlot(this, val.toString(), function (elem, node, slot) {\n          slot.textContent = node;\n        });\n      }\n    }\n  };\n\n  // Method overrides.\n\n  var funcs = {\n    appendChild: function appendChild(newNode) {\n      doForNodesIfSlot(this, newNode, function (elem, node, slot) {\n        slot.appendChild(node);\n        applyParentNode(node, elem);\n      });\n      return newNode;\n    },\n    hasChildNodes: function hasChildNodes() {\n      return this.childNodes.length > 0;\n    },\n    insertBefore: function insertBefore(newNode, refNode) {\n      doForNodesIfSlot(this, newNode, function (elem, node, slot) {\n        slot.insertBefore(node, refNode);\n        applyParentNode(node, elem);\n      });\n      return newNode;\n    },\n    removeChild: function removeChild(refNode) {\n      doForNodesIfSlot(this, refNode, function (elem, node, slot) {\n        slot.removeChild(node);\n        removeParentNode(node);\n      });\n      return refNode;\n    },\n    replaceChild: function replaceChild(newNode, refNode) {\n      doForNodesIfSlot(this, newNode, function (elem, node, slot) {\n        slot.replaceChild(node, refNode);\n        applyParentNode(node, elem);\n      });\n      removeParentNode(refNode);\n      return refNode;\n    }\n  };\n\n  // Polyfills an element.\n  function polyfill (elem) {\n    if (mapPolyfilled.get(elem)) {\n      return;\n    }\n\n    // Polyfill properties.\n    for (var name in props) {\n      prop(elem, name, props[name]);\n    }\n\n    // Polyfill methods.\n    for (var name in funcs) {\n      elem[name] = funcs[name];\n    }\n\n    mapPolyfilled.set(elem, true);\n    return elem;\n  }\n\n  var previousGlobal = window.skatejsNamedSlots;\n  polyfill.noConflict = function noConflict() {\n    window.skatejsNamedSlots = previousGlobal;\n    return this;\n  };\n  window.skatejsNamedSlots = polyfill;\n\n  return polyfill;\n\n}));\n//# sourceMappingURL=index.js.map"],"sourceRoot":"/source/"}