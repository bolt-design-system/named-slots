{"version":3,"sources":["index.min.js"],"names":["global","factory","exports","module","define","amd","skatejs","named","slots","this","arrayItem","idx","doForNodesIfSlot","elem","node","func","nodeToArray","forEach","slot","getSlot","name","getAttribute","__slots","querySelector","makeLikeNodeList","arr","item","DocumentFragment","toArray","childNodes","obj","Array","prototype","slice","call","polyfill","mapPolyfilled","get","props","prop","funcs","set","WeakMap","Object","defineProperty","bind","childElementCount","children","length","nodes","childNodesLen","a","push","filter","nodeType","firstChild","firstElementChild","innerHTML","map","outerHTML","textContent","join","val","div","document","createElement","frag","createDocumentFragment","hasChildNodes","appendChild","lastChild","ch","lastElementChild","tagName","toLowerCase","attributes","attr","value","toString","newNode","insertBefore","refNode","removeChild","replaceChild","previousGlobal","window","skatejsNamedSlots","noConflict"],"mappings":"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","file":"index.min.js","sourcesContent":["(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global.skatejs-named-slots = factory());\n}(this, function () {\n\n  var mapPolyfilled = new WeakMap();\n\n  var prop = Object.defineProperty.bind(Object);\n\n  // Helpers.\n\n  function arrayItem(idx) {\n    return this[idx];\n  }\n\n  function doForNodesIfSlot(elem, node, func) {\n    nodeToArray(node).forEach(function (node) {\n      var slot = getSlot(elem, node);\n      if (slot) {\n        func(elem, node, slot);\n      }\n    });\n  }\n\n  function getSlot(elem, node) {\n    if (!node) {\n      return;\n    }\n\n    var name = node.getAttribute && node.getAttribute('slot') || 'content';\n\n    if (!elem.__slots) {\n      elem.__slots = {};\n    }\n\n    var slots = elem.__slots;\n\n    if (typeof slots[name] === 'undefined') {\n      var slot = elem.querySelector('[slot-name=\"' + (name === 'content' ? '' : name) + '\"]');\n      if (slot) {\n        slots[name] = slot;\n      }\n    }\n\n    if (slots[name]) {\n      return slots[name];\n    }\n  }\n\n  function makeLikeNodeList(arr) {\n    arr.item = arrayItem;\n    return arr;\n  }\n\n  function nodeToArray(node) {\n    return node instanceof DocumentFragment ? toArray(node.childNodes) : [node];\n  }\n\n  function toArray(obj) {\n    return Array.prototype.slice.call(obj);\n  }\n\n  // Prop overrides.\n\n  var props = {\n    childElementCount: {\n      get: function get() {\n        return this.children.length;\n      }\n    },\n    childNodes: {\n      get: function get() {\n        var nodes = [];\n        var slots = this.__slots;\n        if (slots) {\n          for (var name in slots) {\n            var slot = slots[name];\n            var childNodes = slot.childNodes;\n            var childNodesLen = childNodes.length;\n            for (var a = 0; a < childNodesLen; a++) {\n              nodes.push(childNodes[a]);\n            }\n          }\n        }\n        return makeLikeNodeList(nodes);\n      }\n    },\n    children: {\n      get: function get() {\n        return makeLikeNodeList(this.childNodes.filter(function (node) {\n          return node.nodeType === 1;\n        }));\n      }\n    },\n    firstChild: {\n      get: function get() {\n        return this.childNodes[0] || null;\n      }\n    },\n    firstElementChild: {\n      get: function get() {\n        return this.children[0] || null;\n      }\n    },\n    innerHTML: {\n      get: function get() {\n        return this.childNodes.map(function (node) {\n          return node.outerHTML || node.textContent;\n        }).join('');\n      },\n      set: function set(val) {\n        var div = document.createElement('div');\n        var frag = document.createDocumentFragment();\n        div.innerHTML = val;\n        while (div.hasChildNodes()) {\n          frag.appendChild(div.firstChild);\n        }\n        this.appendChild(frag);\n      }\n    },\n    lastChild: {\n      get: function get() {\n        var ch = this.childNodes;\n        return ch[ch.length - 1] || null;\n      }\n    },\n    lastElementChild: {\n      get: function get() {\n        var ch = this.children;\n        return ch[ch.length - 1] || null;\n      }\n    },\n    outerHTML: {\n      get: function get() {\n        var name = this.tagName.toLowerCase();\n        var attributes = toArray(this.attributes).map(function (attr) {\n          return ' ' + attr.name + (attr.value ? '=\"' + attr.value + '\"' : '');\n        }).join('');\n        return '<' + name + attributes + '>' + this.innerHTML + '</' + name + '>';\n      }\n    },\n    textContent: {\n      get: function get() {\n        return this.childNodes.map(function (node) {\n          return node.textContent;\n        }).join('');\n      },\n      set: function set(val) {\n        doForNodesIfSlot(this, val.toString(), function (elem, node, slot) {\n          slot.textContent = node;\n        });\n      }\n    }\n  };\n\n  // Method overrides.\n\n  var funcs = {\n    appendChild: function appendChild(newNode) {\n      doForNodesIfSlot(this, newNode, function (elem, node, slot) {\n        slot.appendChild(node);\n      });\n      return newNode;\n    },\n    hasChildNodes: function hasChildNodes() {\n      return this.childNodes.length > 0;\n    },\n    insertBefore: function insertBefore(newNode, refNode) {\n      doForNodesIfSlot(this, newNode, function (elem, node, slot) {\n        slot.insertBefore(newNode, refNode);\n      });\n      return newNode;\n    },\n    removeChild: function removeChild(refNode) {\n      doForNodesIfSlot(this, refNode, function (elem, node, slot) {\n        slot.removeChild(refNode);\n      });\n      return refNode;\n    },\n    replaceChild: function replaceChild(newNode, refNode) {\n      doForNodesIfSlot(this, refNode, function (elem, node, slot) {\n        slot.replaceChild(newNode, refNode);\n      });\n      return refNode;\n    }\n  };\n\n  // Polyfills an element.\n  function polyfill (elem) {\n    if (mapPolyfilled.get(elem)) {\n      return;\n    }\n\n    // Polyfill properties.\n    for (var name in props) {\n      prop(elem, name, props[name]);\n    }\n\n    // Polyfill methods.\n    for (var name in funcs) {\n      elem[name] = funcs[name];\n    }\n\n    mapPolyfilled.set(elem, true);\n    return elem;\n  }\n\n  var previousGlobal = window.skatejsNamedSlots;\n  polyfill.noConflict = function noConflict() {\n    window.skatejsNamedSlots = previousGlobal;\n    return this;\n  };\n  window.skatejsNamedSlots = polyfill;\n\n  return polyfill;\n\n}));\n//# sourceMappingURL=index.js.map"],"sourceRoot":"/source/"}